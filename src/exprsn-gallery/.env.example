# ═══════════════════════════════════════════════════════════════════════
# Exprsn Gallery Service - Environment Configuration
# ═══════════════════════════════════════════════════════════════════════

# Service Configuration
NODE_ENV=development
GALLERY_SERVICE_PORT=3008
GALLERY_SERVICE_HOST=localhost
GALLERY_CA_DOMAIN=gallery.exprsn.io

# Database
GALLERY_PG_HOST=localhost
GALLERY_PG_PORT=5432
GALLERY_PG_DATABASE=exprsn_gallery
GALLERY_PG_USER=postgres
GALLERY_PG_PASSWORD=your_secure_password

# Database Pool
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Redis
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# CA Integration
GALLERY_CERT_SERIAL=your_certificate_serial
GALLERY_PRIVATE_KEY_PATH=./keys/gallery-service-key.pem
GALLERY_CERTIFICATE_PATH=./keys/gallery-service-cert.pem
CA_ROOT_CERT_PATH=./keys/ca-root-cert.pem
CA_SERVICE_URL=http://localhost:3000

# FileVault Integration
FILEVAULT_ENABLED=true
FILEVAULT_SERVICE_URL=http://localhost:3007

# Timeline Integration
TIMELINE_ENABLED=true
TIMELINE_SERVICE_URL=http://localhost:3004

# CDN Configuration
CDN_ENABLED=false
CDN_ENDPOINT=https://cdn.exprsn.io
CDN_REGION=global
CDN_SIGNED_URLS=false
CDN_SIGNED_URL_TTL=3600

# Media Processing
IMAGE_MAX_SIZE=104857600
VIDEO_MAX_SIZE=2147483648
THUMBNAIL_SIZES=150,400,1024,2048
VIDEO_BITRATES=360,480,720,1080
VIDEO_FORMAT=hls,dash
ENABLE_FACE_DETECTION=false
ENABLE_AUTO_TAGGING=false
TRANSCODE_VIDEOS=false

# FFmpeg Configuration (optional - will use system defaults if not set)
FFMPEG_PATH=
FFPROBE_PATH=

# Background Jobs
QUEUE_CONCURRENCY=2
ENABLE_BACKGROUND_PROCESSING=true

# Storage
STORAGE_BACKEND=local
LOCAL_STORAGE_PATH=./storage

# S3 Configuration (if using S3 backend)
S3_BUCKET=
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# Service Base URL (for share links)
SERVICE_BASE_URL=http://localhost:3008

# Upload Settings
UPLOAD_TEMP_DIR=./tmp/uploads
UPLOAD_MAX_FILE_SIZE=2147483648

# Security
SESSION_SECRET=change_this_to_a_random_secret
BCRYPT_ROUNDS=10
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
RATE_LIMIT_UPLOAD_MAX=10

# CORS
CORS_ENABLED=true
CORS_ORIGIN=*
CORS_CREDENTIALS=false

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=./logs
LOG_MAX_FILES=14
LOG_MAX_SIZE=20m
