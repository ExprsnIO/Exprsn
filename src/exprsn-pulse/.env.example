# =============================================================================
# Exprsn Pulse - Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=development
PULSE_PORT=3012
APP_NAME=Exprsn Pulse

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=exprsn_pulse
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_POOL_MIN=2
DB_POOL_MAX=10

# =============================================================================
# REDIS CACHE
# =============================================================================
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Cache TTL Settings (in seconds)
CACHE_TTL_DASHBOARD=300        # 5 minutes
CACHE_TTL_VISUALIZATION=600    # 10 minutes
CACHE_TTL_QUERY=180            # 3 minutes
CACHE_TTL_DATASET=600          # 10 minutes
CACHE_TTL_REPORT=300           # 5 minutes

# =============================================================================
# TLS/HTTPS CONFIGURATION
# =============================================================================
TLS_ENABLED=false
HTTPS_PORT=3443

# Custom Certificate Paths (optional, auto-generates self-signed if not provided)
TLS_KEY_PATH=
TLS_CERT_PATH=

# Certificate Attributes (used when auto-generating)
TLS_COMMON_NAME=localhost
TLS_COUNTRY=US
TLS_STATE=California
TLS_LOCALITY=San Francisco
TLS_ORG=Exprsn Pulse
TLS_OU=Analytics

# =============================================================================
# SESSION MANAGEMENT
# =============================================================================
SESSION_SECRET=change-this-to-a-random-secret-in-production
SESSION_TIMEOUT=604800000      # 7 days in milliseconds

# =============================================================================
# SECURITY & RATE LIMITING
# =============================================================================
CORS_ORIGIN=*
RATE_LIMIT_MAX=1000            # Max requests per 15 minutes per IP

# =============================================================================
# SERVICE DISCOVERY & INTEGRATION
# =============================================================================
CA_URL=http://localhost:3000
AUTH_URL=http://localhost:3001
SETUP_URL=http://localhost:3015
BRIDGE_URL=http://localhost:3010

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info                 # error, warn, info, debug
LOG_FORMAT=json               # json, simple

# =============================================================================
# FEATURES
# =============================================================================
# Real-time Dashboard Updates
REALTIME_ENABLED=true

# Scheduled Reports
SCHEDULES_ENABLED=true

# =============================================================================
# EMAIL NOTIFICATIONS (for scheduled reports)
# =============================================================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=user@example.com
SMTP_PASS=your_smtp_password
SMTP_FROM=pulse@example.com

# =============================================================================
# PERFORMANCE
# =============================================================================
MAX_CONCURRENT_QUERIES=10
QUERY_TIMEOUT=30000            # 30 seconds

# =============================================================================
# EXPORT SETTINGS
# =============================================================================
# PDF Export (Puppeteer)
PDF_TIMEOUT=30000
PDF_MAX_PAGES=100

# CSV Export
CSV_MAX_ROWS=100000

# Excel Export
EXCEL_MAX_ROWS=100000

# =============================================================================
# MONITORING
# =============================================================================
PROMETHEUS_ENABLED=true
HEALTH_CHECK_INTERVAL=30000    # 30 seconds

# =============================================================================
# DEVELOPMENT
# =============================================================================
DEBUG=false
ENABLE_SWAGGER=true
