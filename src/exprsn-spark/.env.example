# ═══════════════════════════════════════════════════════════
# Exprsn Spark Environment Configuration
# Real-time User & Group Messaging Platform - v1.0.0
# ═══════════════════════════════════════════════════════════

# Environment
NODE_ENV=development

# Service Configuration
SPARK_SERVICE_PORT=3002
SPARK_SERVICE_HOST=localhost

# TLS/HTTPS Configuration
TLS_ENABLED=true
TLS_CERT_PATH=../../certs/localhost-cert.pem
TLS_KEY_PATH=../../certs/localhost-key.pem

# Database (PostgreSQL)
SPARK_DB_HOST=localhost
SPARK_DB_PORT=5432
SPARK_DB_NAME=exprsn_spark
SPARK_DB_USER=postgres
SPARK_DB_PASSWORD=postgres
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_LOGGING=false

# Redis (Required for clustering and queues)
REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Bull Queues (Background jobs)
BULL_REDIS_DB=1

# Elasticsearch (Full-text search)
ELASTICSEARCH_ENABLED=true
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX_PREFIX=spark_
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# External Services
FILEVAULT_SERVICE_URL=http://localhost:3007
HERALD_SERVICE_URL=http://localhost:3014
CA_URL=http://localhost:3000
OCSP_RESPONDER_URL=http://localhost:2560

# Security
SERVICE_CA_TOKEN=your_service_ca_token_here

# CORS
CORS_ORIGIN=*

# WebSocket
WS_PATH=/socket.io

# File Uploads
MAX_FILE_SIZE=104857600  # 100MB in bytes

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MESSAGES_PER_MINUTE=60
RATE_LIMIT_UPLOADS_PER_HOUR=50
RATE_LIMIT_API_PER_15MIN=1000

# Logging
LOG_LEVEL=info
LOG_DIR=./logs
LOG_FORMAT=json

# Performance
MESSAGE_PAGINATION_LIMIT=50
CONVERSATION_PAGINATION_LIMIT=20
SEARCH_RESULTS_LIMIT=20

# Features (Enable/Disable)
ENABLE_THREADING=true
ENABLE_FORWARDING=true
ENABLE_PINNING=true
ENABLE_NOTIFICATIONS=true
ENABLE_SEARCH=true
