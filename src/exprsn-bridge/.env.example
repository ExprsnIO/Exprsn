# Exprsn Bridge - Environment Configuration

# =============================================================================
# Server Configuration
# =============================================================================

# Node environment (development, staging, production)
NODE_ENV=development

# HTTPS Server port
PORT=3010

# HTTP redirect port (optional, used only in production)
# In development mode, HTTP redirect is disabled to avoid port conflicts
# Set this if you want to enable HTTPâ†’HTTPS redirect in production
# Default: 8010 (to avoid conflict with exprsn-live on port 3009)
BRIDGE_HTTP_PORT=8010

# =============================================================================
# CORS Configuration
# =============================================================================

# Allowed origins (comma-separated)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,https://app.exprsn.io

# =============================================================================
# Lexicon Configuration
# =============================================================================

# Directory containing lexicon files (relative or absolute path)
LEXICON_DIR=./src/config/lexicons

# =============================================================================
# Backend Service URLs
# =============================================================================

# Certificate Authority (CA) Service
CA_SERVICE_URL=http://localhost:3000
CA_BASE_URL=http://localhost:3000

# Authentication Service (Port 3001)
AUTH_SERVICE_URL=http://localhost:3001

# Spark Messaging Service (Port 3002)
SPARK_SERVICE_URL=http://localhost:3002

# Timeline Service (Port 3004)
TIMELINE_SERVICE_URL=http://localhost:3004

# Prefetch Service (Port 3005)
PREFETCH_SERVICE_URL=http://localhost:3005

# Moderator Service (Port 3006)
MODERATOR_SERVICE_URL=http://localhost:3006

# FileVault Service (Port 3007)
FILEVAULT_SERVICE_URL=http://localhost:3007

# Gallery Service (Port 3008)
GALLERY_SERVICE_URL=http://localhost:3008

# Live Streaming Service (Port 3009)
LIVE_SERVICE_URL=http://localhost:3009

# Nexus Service (Port 3011)
NEXUS_SERVICE_URL=http://localhost:3011

# Pulse Analytics Service (Port 3012)
PULSE_SERVICE_URL=http://localhost:3012

# Vault Secrets Service (Port 3013)
VAULT_SERVICE_URL=http://localhost:3013

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log format (json, simple)
LOG_FORMAT=json

# =============================================================================
# Rate Limiting Configuration
# =============================================================================

# Global rate limit - time window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Global rate limit - max requests per window (default: 1000)
RATE_LIMIT_MAX=1000

# =============================================================================
# Security Configuration
# =============================================================================

# Enable/disable certificate binding validation
CERTIFICATE_BINDING_ENABLED=false

# =============================================================================
# Docker Configuration (when using Docker Compose)
# =============================================================================

# Uncomment these when running with Docker Compose
# CA_SERVICE_URL=http://ca:3000
# AUTH_SERVICE_URL=http://auth:3001
# SPARK_SERVICE_URL=http://spark:3002
# TIMELINE_SERVICE_URL=http://timeline:3004
# PREFETCH_SERVICE_URL=http://prefetch:3005
# MODERATOR_SERVICE_URL=http://moderator:3006
# FILEVAULT_SERVICE_URL=http://filevault:3007
# GALLERY_SERVICE_URL=http://gallery:3008
# LIVE_SERVICE_URL=http://live:3009
# NEXUS_SERVICE_URL=http://nexus:3011
# PULSE_SERVICE_URL=http://pulse:3012
# VAULT_SERVICE_URL=http://vault:3013

# =============================================================================
# Production Configuration
# =============================================================================

# In production, set NODE_ENV=production and configure:
# - Proper CORS origins (remove wildcards)
# - Lower rate limits for sensitive endpoints
# - Enable certificate binding for production routes
# - Configure service URLs to point to production services
# - Set up proper logging and monitoring
