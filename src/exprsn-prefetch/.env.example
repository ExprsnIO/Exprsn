# ═══════════════════════════════════════════════════════════════════════
# Exprsn Prefetch - Environment Configuration
# ═══════════════════════════════════════════════════════════════════════

# Application
NODE_ENV=development
PREFETCH_SERVICE_PORT=3005
PREFETCH_SERVICE_HOST=prefetch.exprsn.io

# Worker Configuration
PREFETCH_WORKER_COUNT=20
PREFETCH_JOB_CONCURRENCY=100
PREFETCH_BATCH_SIZE=50

# Redis (Cache)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_CLUSTER_MODE=false
REDIS_DB_HOT=0
REDIS_DB_WARM=1

# ScyllaDB (Cold Cache)
SCYLLA_HOSTS=localhost
SCYLLA_DATACENTER=datacenter1
SCYLLA_KEYSPACE=prefetch_cache
SCYLLA_REPLICATION_FACTOR=3

# PostgreSQL (Job Queue & Analytics)
PREFETCH_PG_HOST=localhost
PREFETCH_PG_PORT=5432
PREFETCH_PG_DATABASE=exprsn_prefetch
PREFETCH_PG_USER=prefetch_service
PREFETCH_PG_PASSWORD=changeme

# Database Pool
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Certificate Authority
PREFETCH_CA_DOMAIN=prefetch.exprsn.io
PREFETCH_CERT_SERIAL=
PREFETCH_PRIVATE_KEY_PATH=/secrets/prefetch-service-key.pem
PREFETCH_CERTIFICATE_PATH=/secrets/prefetch-service-cert.pem
CA_ROOT_CERT_PATH=/secrets/ca-root-cert.pem

# Service URLs
TIMELINE_SERVICE_URL=http://localhost:3004
AUTH_SERVICE_URL=http://localhost:3001

# Cache Configuration (milliseconds)
HOT_CACHE_TTL=300000   # 5 minutes
WARM_CACHE_TTL=900000  # 15 minutes
COLD_CACHE_TTL=3600000 # 1 hour

# Prefetch Strategies
ENABLE_ACTIVITY_BASED=true
ENABLE_EVENT_TRIGGERED=true
ENABLE_PREDICTIVE=false
ACTIVITY_CHECK_INTERVAL=60000  # 1 minute

# Performance
MAX_TIMELINE_SIZE=100
PREFETCH_TIMEOUT=10000  # 10 seconds

# Logging
LOG_LEVEL=info
LOG_DIR=./logs
