# Environment Configuration
NODE_ENV=development
PORT=3000
SOCKET_PORT=3001

# Deployment Mode (docker or native)
DEPLOYMENT_MODE=docker

# API Configuration
API_VERSION=1.0
API_BASE_URL=https://api.example.com
API_RATE_LIMIT=100
API_RATE_WINDOW=60000

# Database Configuration (Docker)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=exprsn
DB_USER=exprsn
DB_PASSWORD=exprsn_secure_password
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# Database Configuration (Native - uncomment if DEPLOYMENT_MODE=native)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=exprsn
# DB_USER=exprsn
# DB_PASSWORD=your_password_here

# Redis Configuration (Docker)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_password
REDIS_DB=0
REDIS_CACHE_TTL=300
REDIS_TOKEN_CACHE_TTL=60

# Redis Configuration (Native - uncomment if DEPLOYMENT_MODE=native)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# RabbitMQ Configuration (Docker)
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=exprsn
RABBITMQ_PASSWORD=rabbitmq_secure_password
RABBITMQ_VHOST=/exprsn
RABBITMQ_PREFETCH=10

# RabbitMQ Configuration (Native - uncomment if DEPLOYMENT_MODE=native)
# RABBITMQ_HOST=localhost
# RABBITMQ_PORT=5672
# RABBITMQ_USER=guest
# RABBITMQ_PASSWORD=guest

# Certificate Authority Configuration
CA_ROOT_PATH=./certs/root-ca
CA_INTERMEDIATE_PATH=./certs/intermediate
CA_SERVER_PATH=./certs/server
CA_SIGNING_KEY=./certs/intermediate/intermediate.key
CA_SIGNING_CERT=./certs/intermediate/intermediate.crt
CA_OCSP_ENDPOINT=http://ocsp.example.com
CA_CRL_ENDPOINT=http://crl.example.com
CA_ROOT_VALID_YEARS=20
CA_INTERMEDIATE_VALID_YEARS=10
CA_CERT_VALID_YEARS=1

# OpenSSL Configuration
OPENSSL_CONF=./certs/openssl.cnf
CA_KEY_BITS=4096
CA_DIGEST=sha256

# Token Configuration
TOKEN_SIGNING_KEY=./certs/server/server.key
TOKEN_SIGNING_CERT=./certs/server/server.crt
TOKEN_DEFAULT_LIFETIME=3600
TOKEN_REFRESH_LIFETIME=604800
TOKEN_BINDING_REQUIRED=true
TOKEN_CACHE_ENABLED=true

# Security Configuration
BCRYPT_ROUNDS=12
JWT_SECRET=change-this-to-a-secure-random-secret
ENCRYPTION_KEY=change-this-to-32-character-key
HMAC_SECRET=change-this-to-a-secure-hmac-secret

# CORS Configuration
CORS_ORIGIN=https://app.example.com,https://admin.example.com
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=false

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIRECTORY=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Webhook Configuration
WEBHOOK_TIMEOUT=5000
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=1000
WEBHOOK_RETRY_BACKOFF=exponential
WEBHOOK_SIGNATURE_ALGORITHM=sha256

# Socket.io Configuration
SOCKET_PING_TIMEOUT=60000
SOCKET_PING_INTERVAL=25000
SOCKET_MAX_HTTP_BUFFER_SIZE=1000000
SOCKET_TRANSPORTS=websocket,polling

# Custom Headers Prefix
CUSTOM_HEADER_PREFIX=xprsn-

# External Services
GEOLOCATION_SERVICE=https://geolocation.example.com
GEOLOCATION_API_KEY=your-geolocation-api-key
NOTIFICATION_SERVICE=https://notifications.example.com
NOTIFICATION_API_KEY=your-notification-api-key

# Development
DEBUG=exprsn:*
NODEMON_DELAY=2000
